<?xml version="1.0" encoding="UTF-8"?>
<!--
CAUTION: Do not modify this file unless you know what you are doing.
         Unexpected results may occur if the code is changed deliberately.
-->
<dbmodel pgmodeler-ver="0.9.2" last-position="0,1" last-zoom="1.1" max-obj-count="19"
	 default-schema="public" default-owner="postgres">
<role name="withspace"
      inherit="true"
      login="true"
      encrypted="true"
      password="********">
</role>

<role name="withspecial"
      inherit="true"
      login="true"
      encrypted="true"
      password="********">
</role>

<role name="normal"
      inherit="true"
      login="true"
      encrypted="true"
      password="********">
</role>

<database name="registry" encoding="UTF8" lc-collate="en_US.UTF-8" lc-ctype="en_US.UTF-8" is-template="false" allow-conns="true">
	<role name="postgres"/>
	<tablespace name="pg_default"/>
</database>

<schema name="public" layer="0" rect-visible="true" fill-color="#e1e1e1" sql-disabled="true">
</schema>

<table name="repositories" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="851.909" y="27.1818"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="parent_id">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="updated_at">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="name" not-null="true">
		<type name="text" length="0"/>
	</column>
	<column name="path" not-null="true">
		<type name="text" length="0"/>
	</column>
	<constraint name="pk_repositories" type="pk-constr" table="public.repositories">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_repositories_path" type="uq-constr" table="public.repositories">
		<columns names="path" ref-type="src-columns"/>
	</constraint>
	<constraint name="ck_repositories_name_length" type="ck-constr" table="public.repositories">
			<expression><![CDATA[(char_length(name) <= 255)]]></expression>
	</constraint>
	<constraint name="ck_repositories_path_length" type="ck-constr" table="public.repositories">
			<expression><![CDATA[(char_length(path) <= 255)]]></expression>
	</constraint>
</table>

<table name="manifest_configurations" layer="0" collapse-mode="2" max-obj-count="6">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="613.636" y="863.091"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="manifest_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="blob_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="payload" not-null="true">
		<type name="bytea" length="0"/>
	</column>
	<constraint name="pk_manifest_configurations" type="pk-constr" table="public.manifest_configurations">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_manifest_configurations_manifest_id" type="uq-constr" table="public.manifest_configurations">
		<columns names="manifest_id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_manifest_configurations_blob_id" type="uq-constr" table="public.manifest_configurations">
		<columns names="blob_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="manifests" layer="0" collapse-mode="2" max-obj-count="8">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="407.909" y="420.182"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="marked_at">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="schema_version" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="digest_hex" not-null="true">
		<type name="bytea" length="0"/>
	</column>
	<column name="payload" not-null="true">
		<type name="bytea" length="0"/>
	</column>
	<column name="media_type" not-null="true">
		<type name="text" length="0"/>
	</column>
	<constraint name="pk_manifests" type="pk-constr" table="public.manifests">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_manifests_digest_hex" type="uq-constr" table="public.manifests">
		<columns names="digest_hex" ref-type="src-columns"/>
	</constraint>
	<constraint name="ck_manifests_media_type_enum" type="ck-constr" table="public.manifests">
			<expression><![CDATA[((media_type IN ('application/vnd.oci.image.manifest.v1+json', 
					'application/vnd.docker.distribution.manifest.v1+json',
					'application/vnd.docker.distribution.manifest.v1+prettyjws',
					'application/vnd.docker.distribution.manifest.v2+json'
)))]]></expression>
	</constraint>
</table>

<table name="blobs" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="51.6364" y="625.818"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="size" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="marked_at">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="digest_hex" not-null="true">
		<type name="bytea" length="0"/>
	</column>
	<column name="media_type" not-null="true">
		<type name="text" length="0"/>
	</column>
	<constraint name="pk_blobs" type="pk-constr" table="public.blobs">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_blobs_digest_hex" type="uq-constr" table="public.blobs">
		<columns names="digest_hex" ref-type="src-columns"/>
	</constraint>
	<constraint name="ck_blobs_media_type_enum" type="ck-constr" table="public.blobs">
			<expression><![CDATA[((media_type IN (
					'application/vnd.oci.image.layer.v1.tar',
					'application/vnd.oci.image.layer.v1.tar+gzip',
					'application/vnd.oci.image.layer.v1.tar+zstd',
					'application/vnd.docker.container.image.rootfs.diff+x-gtar',
					'application/vnd.docker.image.rootfs.diff.tar',
					'application/vnd.docker.image.rootfs.diff.tar.gzip',
					'application/vnd.docker.image.rootfs.foreign.diff.tar.gzip',
					'application/vnd.oci.image.config.v1+json',
					'application/vnd.docker.container.image.v1+json',
					'application/vnd.docker.plugin.v1+json'
				)))]]></expression>
	</constraint>
</table>

<table name="manifest_layers" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="162.182" y="882.272"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="manifest_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="blob_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<constraint name="pk_manifest_layers" type="pk-constr" table="public.manifest_layers">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_manifest_layers_manifest_id_blob_id" type="uq-constr" table="public.manifest_layers">
		<columns names="manifest_id,blob_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="manifest_lists" layer="0" collapse-mode="2" max-obj-count="8">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="1290.91" y="425.182"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="marked_at">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="schema_version" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="digest_hex" not-null="true">
		<type name="bytea" length="0"/>
	</column>
	<column name="payload" not-null="true">
		<type name="bytea" length="0"/>
	</column>
	<column name="media_type">
		<type name="text" length="0"/>
	</column>
	<constraint name="pk_manifest_lists" type="pk-constr" table="public.manifest_lists">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_manifest_lists_digest_hex" type="uq-constr" table="public.manifest_lists">
		<columns names="digest_hex" ref-type="src-columns"/>
	</constraint>
	<constraint name="ck_manifest_lists_media_type_enum" type="ck-constr" table="public.manifest_lists">
			<expression><![CDATA[((media_type IN ('application/vnd.oci.image.index.v1+json', 'application/vnd.docker.distribution.manifest.list.v2+json')))]]></expression>
	</constraint>
</table>

<table name="manifest_list_manifests" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="788" y="627.182"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="manifest_list_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="manifest_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<constraint name="pk_manifest_list_manifests" type="pk-constr" table="public.manifest_list_manifests">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_manifest_list_manifests_manifest_list_id_manifest_id" type="uq-constr" table="public.manifest_list_manifests">
		<columns names="manifest_list_id,manifest_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="tags" layer="0" collapse-mode="2" max-obj-count="8">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="824.909" y="293.182"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="repository_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="manifest_id">
		<type name="bigint" length="0"/>
	</column>
	<column name="manifest_list_id">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="updated_at">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<column name="name" not-null="true">
		<type name="text" length="0"/>
	</column>
	<constraint name="pk_tags" type="pk-constr" table="public.tags">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_tags_name_repository_id" type="uq-constr" table="public.tags">
		<columns names="name,repository_id" ref-type="src-columns"/>
	</constraint>
	<constraint name="ck_tags_name_length" type="ck-constr" table="public.tags">
			<expression><![CDATA[(char_length(name) <= 255)]]></expression>
	</constraint>
	<constraint name="ck_tags_manifest_id_manifest_list_id_one_of" type="ck-constr" table="public.tags">
			<expression><![CDATA[((manifest_id is not null and manifest_list_id is null) or (manifest_id is null and manifest_list_id is not null))]]></expression>
	</constraint>
</table>

<table name="repository_manifests" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="359.909" y="60.1818"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="repository_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="manifest_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<constraint name="pk_repository_manifests" type="pk-constr" table="public.repository_manifests">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_repository_manifests_repository_id_manifest_id" type="uq-constr" table="public.repository_manifests">
		<columns names="repository_id,manifest_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="repository_manifest_lists" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="1233.91" y="60.1818"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="repository_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="manifest_list_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<constraint name="pk_repository_manifest_lists" type="pk-constr" table="public.repository_manifest_lists">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_repository_manifests_repository_id_manifest_list_id" type="uq-constr" table="public.repository_manifest_lists">
		<columns names="repository_id,manifest_list_id" ref-type="src-columns"/>
	</constraint>
</table>

<index name="ix_tags_repository_id" table="public.tags"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="repository_id"/>
		</idxelement>
</index>

<index name="ix_tags_manifest_id" table="public.tags"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="manifest_id"/>
		</idxelement>
</index>

<index name="ix_repositories_parent_id" table="public.repositories"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="parent_id"/>
		</idxelement>
</index>

<index name="ix_manifest_layers_manifest_id" table="public.manifest_layers"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="manifest_id"/>
		</idxelement>
</index>

<index name="ix_manifest_layers_blob_id" table="public.manifest_layers"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="blob_id"/>
		</idxelement>
</index>

<index name="ix_manifest_list_manifests_manifest_id" table="public.manifest_list_manifests"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="manifest_id"/>
		</idxelement>
</index>

<index name="ix_manifest_list_manifests_manifest_list_id" table="public.manifest_list_manifests"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="manifest_list_id"/>
		</idxelement>
</index>

<index name="ix_tags_manifest_list_id" table="public.tags"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="manifest_list_id"/>
		</idxelement>
</index>

<index name="ix_repository_manifests_repository_id" table="public.repository_manifests"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="repository_id"/>
		</idxelement>
</index>

<index name="ix_repository_manifests_manifest_id" table="public.repository_manifests"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="manifest_id"/>
		</idxelement>
</index>

<index name="ix_repository_manifest_lists_repository_id" table="public.repository_manifest_lists"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="repository_id"/>
		</idxelement>
</index>

<index name="ix_repository_manifest_lists_manifest_list_id" table="public.repository_manifest_lists"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="manifest_list_id"/>
		</idxelement>
</index>

<table name="repository_blobs" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="public"/>
	<role name="postgres"/>
	<position x="4.54546" y="354.545"/>
	<column name="id" not-null="true"
	 identity-type="BY DEFAULT">
		<type name="bigint" length="0"/>
	</column>
	<column name="repository_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="blob_id" not-null="true">
		<type name="bigint" length="0"/>
	</column>
	<column name="created_at" not-null="true" default-value="now()">
		<type name="timestamp with time zone" length="0" with-timezone="true"/>
	</column>
	<constraint name="pk_repository_blobs" type="pk-constr" table="public.repository_blobs">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<constraint name="uq_repository_blobs_repository_id_blob_id" type="uq-constr" table="public.repository_blobs">
		<columns names="repository_id,blob_id" ref-type="src-columns"/>
	</constraint>
</table>

<index name="ix_repository_blobs_repository_id" table="public.repository_blobs"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="repository_id"/>
		</idxelement>
</index>

<index name="ix_repository_blobs_blob_id" table="public.repository_blobs"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="blob_id"/>
		</idxelement>
</index>

<index name="ix_manifest_configurations_manifest_id" table="public.manifest_configurations"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="manifest_id"/>
		</idxelement>
</index>

<index name="ix_manifest_configurations_blob_id" table="public.manifest_configurations"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="blob_id"/>
		</idxelement>
</index>

<constraint name="fk_repositories_parent_id_repositories" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.repositories" table="public.repositories">
	<columns names="parent_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_manifest_configurations_manifest_id_manifests" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.manifests" table="public.manifest_configurations">
	<columns names="manifest_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_manifest_configurations_blob_id_blobs" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.blobs" table="public.manifest_configurations">
	<columns names="blob_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_manifest_layers_manifest_id_manifests" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.manifests" table="public.manifest_layers">
	<columns names="manifest_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_manifest_layers_blob_id_blobs" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.blobs" table="public.manifest_layers">
	<columns names="blob_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_manifest_list_manifests_manifest_id_manifests" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.manifests" table="public.manifest_list_manifests">
	<columns names="manifest_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_manifest_list_manifests_manifest_list_id_manifest_lists" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.manifest_lists" table="public.manifest_list_manifests">
	<columns names="manifest_list_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_tags_repository_id_repositories" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.repositories" table="public.tags">
	<columns names="repository_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_tags_manifest_id_manifests" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.manifests" table="public.tags">
	<columns names="manifest_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_tags_manifest_list_id_manifest_lists" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.manifest_lists" table="public.tags">
	<columns names="manifest_list_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_repository_manifests_repository_id_repositories" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.repositories" table="public.repository_manifests">
	<columns names="repository_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_repository_manifests_manifest_id_manifests" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.manifests" table="public.repository_manifests">
	<columns names="manifest_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_repository_manifest_lists_repository_id_repositories" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.repositories" table="public.repository_manifest_lists">
	<columns names="repository_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_repository_manifest_lists_manifest_list_id_manifest_lists" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.manifest_lists" table="public.repository_manifest_lists">
	<columns names="manifest_list_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_repository_blobs_repository_id_repositories" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.repositories" table="public.repository_blobs">
	<columns names="repository_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="fk_repository_blobs_blob_id_blobs" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="NO ACTION" del-action="CASCADE" ref-table="public.blobs" table="public.repository_blobs">
	<columns names="blob_id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<relationship name="rel_repositories_repositories" type="relfk" layer="0"
	 src-table="public.repositories"
	 dst-table="public.repositories" reference-fk="fk_repositories_parent_id_repositories"
	 src-required="false" dst-required="false">
	<line>
		<position x="1210.18" y="101.998"/>
	<position x="1210.18" y="-0.929311"/>
	<position x="1072.02" y="-0.929311"/>
	</line>
</relationship>

<relationship name="rel_manifest_layers_manifests" type="relfk" layer="0"
	 src-table="public.manifest_layers"
	 dst-table="public.manifests" reference-fk="fk_manifest_layers_manifest_id_manifests"
	 src-required="false" dst-required="false">
	<label ref-type="name-label">
		<position x="44.0929" y="11.206"/>
	</label>
</relationship>

<relationship name="rel_manifest_layers_layers" type="relfk" layer="0"
	 src-table="public.manifest_layers"
	 dst-table="public.blobs" reference-fk="fk_manifest_layers_blob_id_blobs"
	 src-required="false" dst-required="false"/>

<relationship name="rel_manifest_list_manifests_manifest_lists" type="relfk" layer="0"
	 src-table="public.manifest_list_manifests"
	 dst-table="public.manifest_lists" reference-fk="fk_manifest_list_manifests_manifest_list_id_manifest_lists"
	 src-required="false" dst-required="false">
	<label ref-type="name-label">
		<position x="0.0310159" y="-4.19399"/>
	</label>
</relationship>

<relationship name="rel_manifest_list_manifests_manifests" type="relfk" layer="0"
	 src-table="public.manifest_list_manifests"
	 dst-table="public.manifests" reference-fk="fk_manifest_list_manifests_manifest_id_manifests"
	 src-required="false" dst-required="false"/>

<relationship name="rel_repository_manifests_repositories" type="relfk" layer="0"
	 src-table="public.repository_manifests"
	 dst-table="public.repositories" reference-fk="fk_repository_manifests_repository_id_repositories"
	 src-required="false" dst-required="false"/>

<relationship name="rel_repository_manifests_manifests" type="relfk" layer="0"
	 src-table="public.repository_manifests"
	 dst-table="public.manifests" reference-fk="fk_repository_manifests_manifest_id_manifests"
	 src-required="false" dst-required="false"/>

<relationship name="rel_repository_manifests_cp_repositories" type="relfk" layer="0"
	 src-table="public.repository_manifest_lists"
	 dst-table="public.repositories" reference-fk="fk_repository_manifest_lists_repository_id_repositories"
	 src-required="false" dst-required="false"/>

<relationship name="rel_repository_manifests_cp_manifest_lists" type="relfk" layer="0"
	 src-table="public.repository_manifest_lists"
	 dst-table="public.manifest_lists" reference-fk="fk_repository_manifest_lists_manifest_list_id_manifest_lists"
	 src-required="false" dst-required="false"/>

<relationship name="rel_tags_manifests" type="relfk" layer="0"
	 src-table="public.tags"
	 dst-table="public.manifests" reference-fk="fk_tags_manifest_id_manifests"
	 src-required="false" dst-required="false"/>

<relationship name="rel_tags_repositories" type="relfk" layer="0"
	 src-table="public.tags"
	 dst-table="public.repositories" reference-fk="fk_tags_repository_id_repositories"
	 src-required="false" dst-required="false"/>

<relationship name="rel_tags_manifest_lists" type="relfk" layer="0"
	 src-table="public.tags"
	 dst-table="public.manifest_lists" reference-fk="fk_tags_manifest_list_id_manifest_lists"
	 src-required="false" dst-required="false"/>

<relationship name="rel_manifest_configurations_manifests" type="relfk" layer="0"
	 src-table="public.manifest_configurations"
	 dst-table="public.manifests" reference-fk="fk_manifest_configurations_manifest_id_manifests"
	 src-required="false" dst-required="false"/>

<relationship name="rel_repository_blobs_repositories" type="relfk" layer="0"
	 src-table="public.repository_blobs"
	 dst-table="public.repositories" reference-fk="fk_repository_blobs_repository_id_repositories"
	 src-required="false" dst-required="false"/>

<relationship name="rel_repository_blobs_layers" type="relfk" layer="0"
	 src-table="public.repository_blobs"
	 dst-table="public.blobs" reference-fk="fk_repository_blobs_blob_id_blobs"
	 src-required="false" dst-required="false"/>

<relationship name="rel_manifest_configurations_blobs" type="relfk" layer="0"
	 src-table="public.manifest_configurations"
	 dst-table="public.blobs" reference-fk="fk_manifest_configurations_blob_id_blobs"
	 src-required="false" dst-required="false"/>

<permission>
	<object name="registry" type="database"/>
	<privileges connect="true" temporary="true"/>
</permission>
<permission>
	<object name="registry" type="database"/>
	<roles names="postgres"/>
	<privileges create="true" connect="true" temporary="true"/>
</permission>
<permission>
	<object name="registry" type="database"/>
	<roles names="withspace"/>
	<privileges create="true" connect="true" temporary="true"/>
</permission>
<permission>
	<object name="registry" type="database"/>
	<roles names="withspecial"/>
	<privileges create="true" connect="true" temporary="true"/>
</permission>
<permission>
	<object name="registry" type="database"/>
	<roles names="normal"/>
	<privileges create="true" connect="true" temporary="true"/>
</permission>
</dbmodel>
